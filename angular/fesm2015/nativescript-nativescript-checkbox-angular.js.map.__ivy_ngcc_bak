{"version":3,"file":"nativescript-nativescript-checkbox-angular.js","sources":["../../index.ts","../../nativescript-nativescript-checkbox-angular.ts"],"sourcesContent":["import {\n  Directive,\n  ElementRef,\n  forwardRef,\n  HostListener,\n  Inject,\n  NgModule\n} from '@angular/core';\nimport { FormsModule, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { registerElement, BaseValueAccessor } from '@nativescript/angular';\nimport { View } from '@nativescript/core';\nimport { CheckBox } from '@nstudio/nativescript-checkbox';\n\nfunction convertToInt(value): number {\n  let normalizedValue;\n  if (value === undefined || value === null) {\n    normalizedValue = 0;\n  } else {\n    if (typeof value === 'number') {\n      normalizedValue = value;\n    } else {\n      const parsedValue = parseInt(value.toString(), 10);\n      normalizedValue = isNaN(parsedValue) ? 0 : parsedValue;\n    }\n  }\n  return Math.round(normalizedValue);\n}\n\nregisterElement('CheckBox', () => CheckBox);\n\nconst CHECKED_VALUE_ACCESSOR = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => CheckedValueAccessor),\n  multi: true\n};\n\nexport type CheckableView = { checked: boolean } & View;\n\n/**\n * The accessor for setting checked property and listening to changes that is used by the\n * {@link NgModel} directives.\n *\n *  ### Example\n *  ```\n *  <CheckBox [(ngModel)]=\"model.test\">\n *  ```\n */\n@Directive({\n  selector:\n    'CheckBox[ngModel], CheckBox[formControlName], CheckBox[formControl], checkBox[ngModel], checkBox[formControlName], checkBox[formControl], check-box[ngModel], check-box[formControlName], check-box[formControl]',\n  providers: [CHECKED_VALUE_ACCESSOR]\n})\nexport class CheckedValueAccessor extends BaseValueAccessor<CheckableView> {\n  constructor(@Inject(ElementRef) elementRef: ElementRef) {\n    super(elementRef.nativeElement);\n  }\n\n  @HostListener('checkedChange', ['$event'])\n  public checkedChangeListener(event: any) {\n    this.onChange(event.value);\n  }\n\n  public onTouched = () => {};\n\n  public writeValue(value: any): void {\n    this.view.checked = value;\n  }\n\n  public registerOnTouched(fn: () => void): void {\n    this.onTouched = fn;\n  }\n}\n\n@NgModule({\n  declarations: [CheckedValueAccessor],\n  providers: [],\n  imports: [FormsModule],\n  exports: [FormsModule, CheckedValueAccessor]\n})\nexport class TNSCheckBoxModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;AAaA,SAAS,YAAY,CAAC,KAAK;IACzB,IAAI,eAAe,CAAC;IACpB,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI,EAAE;QACzC,eAAe,GAAG,CAAC,CAAC;KACrB;SAAM;QACL,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;YAC7B,eAAe,GAAG,KAAK,CAAC;SACzB;aAAM;YACL,MAAM,WAAW,GAAG,QAAQ,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,EAAE,CAAC,CAAC;YACnD,eAAe,GAAG,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,WAAW,CAAC;SACxD;KACF;IACD,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;AACrC,CAAC;AAED,eAAe,CAAC,UAAU,EAAE,MAAM,QAAQ,CAAC,CAAC;AAE5C,MAAM,sBAAsB,GAAG;IAC7B,OAAO,EAAE,iBAAiB;IAC1B,WAAW,EAAE,UAAU,CAAC,MAAM,oBAAoB,CAAC;IACnD,KAAK,EAAE,IAAI;CACZ,CAAC;AAIF;;;;;;;;;MAca,oBAAqB,SAAQ,iBAAgC;IACxE,YAAgC,UAAsB;QACpD,KAAK,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;QAQ3B,cAAS,GAAG,SAAQ,CAAC;KAP3B;IAGM,qBAAqB,CAAC,KAAU;QACrC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;KAC5B;IAIM,UAAU,CAAC,KAAU;QAC1B,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;KAC3B;IAEM,iBAAiB,CAAC,EAAc;QACrC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;KACrB;;;YAvBF,SAAS,SAAC;gBACT,QAAQ,EACN,kNAAkN;gBACpN,SAAS,EAAE,CAAC,sBAAsB,CAAC;aACpC;;;YAjDC,UAAU,uBAmDG,MAAM,SAAC,UAAU;;;oCAI7B,YAAY,SAAC,eAAe,EAAE,CAAC,QAAQ,CAAC;;MAsB9B,iBAAiB;;;YAN7B,QAAQ,SAAC;gBACR,YAAY,EAAE,CAAC,oBAAoB,CAAC;gBACpC,SAAS,EAAE,EAAE;gBACb,OAAO,EAAE,CAAC,WAAW,CAAC;gBACtB,OAAO,EAAE,CAAC,WAAW,EAAE,oBAAoB,CAAC;aAC7C;;;AC9ED;;;;;;"}